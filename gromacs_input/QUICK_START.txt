═══════════════════════════════════════════════════════════
ACEMD → GROMACS CONVERSION - QUICK START GUIDE
═══════════════════════════════════════════════════════════

✅ CONVERSION SUCCESSFUL!

Your DHFR system has been converted:
  • 23,558 atoms
  • 2 segments (Protein + Water)
  • 28 ns simulation setup
  • CHARMM36 force field

═══════════════════════════════════════════════════════════
📁 GENERATED FILES
═══════════════════════════════════════════════════════════

acemd_to_gromacs.py          ← Main conversion utility
gromacs_files/
  ├── system.gro             ← Coordinates (ready to use)
  ├── system.top             ← Topology template (needs processing)
  ├── em.mdp                 ← Energy minimization params
  ├── nvt.mdp                ← NVT equilibration params
  ├── npt.mdp                ← NPT equilibration params
  ├── md.mdp                 ← Production MD params (28ns)
  ├── parmed_converter.py    ← Topology converter script
  ├── convert_with_charmm_gui.sh
  └── README.txt             ← Detailed instructions

═══════════════════════════════════════════════════════════
⚡ QUICK START (3 STEPS)
═══════════════════════════════════════════════════════════

STEP 1: Complete Topology Conversion
────────────────────────────────────────────────────────────
Choose ONE method:

Option A - ParmEd (Fastest):
  $ pip install parmed
  $ cd gromacs_files
  $ python3 parmed_converter.py

Option B - CHARMM-GUI (Most Reliable):
  1. Go to: https://charmm-gui.org/?doc=input/pdbreader
  2. Upload dhfr.pdb
  3. Select "GROMACS" output
  4. Download and extract topology files

STEP 2: Run GROMACS Simulation
────────────────────────────────────────────────────────────
  $ cd gromacs_files
  
  # Energy Minimization
  $ gmx grompp -f em.mdp -c system.gro -p system.top -o em.tpr
  $ gmx mdrun -v -deffnm em
  
  # NVT Equilibration (100 ps)
  $ gmx grompp -f nvt.mdp -c em.gro -p system.top -o nvt.tpr
  $ gmx mdrun -v -deffnm nvt
  
  # NPT Equilibration (100 ps)
  $ gmx grompp -f npt.mdp -c nvt.gro -p system.top -o npt.tpr -t nvt.cpt
  $ gmx mdrun -v -deffnm npt
  
  # Production MD (28 ns)
  $ gmx grompp -f md.mdp -c npt.gro -p system.top -o md.tpr -t npt.cpt
  $ gmx mdrun -v -deffnm md

STEP 3: Analyze Results
────────────────────────────────────────────────────────────
  $ gmx rms -s md.tpr -f md.xtc -o rmsd.xvg
  $ gmx gyrate -s md.tpr -f md.xtc -o gyrate.xvg
  $ gmx energy -f md.edr -o energy.xvg

═══════════════════════════════════════════════════════════
🔧 UTILITY USAGE
═══════════════════════════════════════════════════════════

Basic Usage:
  $ python3 acemd_to_gromacs.py input.yaml

Custom Output:
  $ python3 acemd_to_gromacs.py input.yaml -o my_output

Help:
  $ python3 acemd_to_gromacs.py --help

═══════════════════════════════════════════════════════════
⚙️ KEY PARAMETERS CONVERTED
═══════════════════════════════════════════════════════════

Simulation Time:    28 ns
Time Step:          2 fs
Temperature:        300 K
Pressure:           1 bar
Box Size:           62.23 × 62.23 × 62.23 Å
Thermostat:         V-rescale (τ = 0.1 ps)
Barostat:           Parrinello-Rahman (τ = 2.0 ps)
Electrostatics:     PME
Cutoffs:            1.2 nm
Constraints:        H-bonds (LINCS)

═══════════════════════════════════════════════════════════
📋 WHAT THE UTILITY DOES
═══════════════════════════════════════════════════════════

1. ✓ Parses PSF file (topology, bonds, angles, dihedrals)
2. ✓ Converts PDB → GRO (Å → nm, GROMACS format)
3. ✓ Generates topology template
4. ✓ Creates MDP files for all simulation stages
5. ✓ Sets up proper parameters (PME, thermostats, etc.)
6. ✓ Provides helper scripts for topology conversion
7. ✓ Generates comprehensive documentation

═══════════════════════════════════════════════════════════
⚠️  IMPORTANT NOTES
═══════════════════════════════════════════════════════════

• The topology template needs to be completed with ParmEd
  or CHARMM-GUI before running GROMACS

• CHARMM36 force field must be available to GROMACS

• Monitor equilibration (temperature, pressure, RMSD)
  before starting production runs

• Adjust MDP parameters as needed for your specific system

═══════════════════════════════════════════════════════════
📚 DOCUMENTATION
═══════════════════════════════════════════════════════════

Detailed Info:      DOCUMENTATION.md
Conversion Steps:   gromacs_files/README.txt
Utility Code:       acemd_to_gromacs.py (well-commented)

═══════════════════════════════════════════════════════════
🆘 TROUBLESHOOTING
═══════════════════════════════════════════════════════════

Problem: Topology errors
Fix: Use CHARMM-GUI for guaranteed compatibility

Problem: Force field not found
Fix: Install CHARMM36 for GROMACS or use ParmEd

Problem: Box size issues
Fix: Check box dimensions in system.gro

Problem: Atom type errors
Fix: Ensure CHARMM36-compatible parameters

═══════════════════════════════════════════════════════════
📖 RESOURCES
═══════════════════════════════════════════════════════════

GROMACS Manual:     https://manual.gromacs.org
CHARMM-GUI:         https://charmm-gui.org
ParmEd Docs:        https://parmed.github.io
CHARMM Force Field: http://mackerell.umaryland.edu/charmm_ff.shtml

═══════════════════════════════════════════════════════════

Ready to simulate! Start with STEP 1 above. 🚀
